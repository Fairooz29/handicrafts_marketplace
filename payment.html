<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Secure Checkout | Crafts of Bengal</title>

  <!-- Google Fonts -->
  <link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin />
  <link href="https://fonts.googleapis.com/css2?display=swap&family=Noto+Sans:wght@400;500;700;900&family=Plus+Jakarta+Sans:wght@400;500;700;800" rel="stylesheet" />

  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" />

  <!-- Custom CSS -->
  <link rel="stylesheet" href="assets/css/style.css" />
  
  <!-- Scripts -->
  <script src="assets/js/auth-check.js" defer></script>
  <script src="assets/js/cart.js" defer></script>
  <script src="assets/js/payment.js" defer></script>
</head>
<body>
  <div class="main-container">
    <div class="page-card">
      <!-- Header -->
      <header class="header">
        <div class="logo-title">
          <div class="logo-icon"></div>
          <h2 class="site-title">Crafts of Bengal</h2>
        </div>
        <nav class="nav-links">
          <a href="index.html">Home</a>
          <a href="handicrafts.html">Shop</a>
          <a href="artisans.html">Artisans</a>
          <a href="about.html">About</a>
          <a href="contact.html">Contact</a>
        </nav>
        <div class="header-actions">
          <form class="search-bar" action="handicrafts.html" method="get">
            <input type="text" name="search" placeholder="Search" aria-label="Search for handicrafts, artisans, or categories" />
            <button type="submit" aria-label="Search">
              <span class="icon-search"></span>
            </button>
          </form>
          <a href="favorites.html" class="icon-btn" aria-label="Favorites">
            <span class="icon-heart"></span>
          </a>
          <a href="cart.html" class="icon-btn" aria-label="Cart">
            <span class="icon-cart"></span>
          </a>
        </div>
      </header>

      <!-- Main Content -->
      <main class="payment-main">
        <!-- Progress Steps -->
        <div class="checkout-progress">
          <div class="progress-container step-2">
            <div class="step completed" data-step="cart">
              <div class="step-icon"><i class="fas fa-shopping-cart"></i></div>
              <span class="step-text">Shopping Cart</span>
            </div>
            <div class="step active" data-step="payment">
              <div class="step-icon"><i class="fas fa-credit-card"></i></div>
              <span class="step-text">Payment</span>
            </div>
            <div class="step" data-step="confirmation">
              <div class="step-icon"><i class="fas fa-check-circle"></i></div>
              <span class="step-text">Confirmation</span>
            </div>
          </div>
        </div>

        <div class="payment-container">
          <div class="payment-layout">
            <!-- Left Side - Payment Form -->
            <div class="payment-form-container">
              <div class="secure-banner">
                <i class="fas fa-shield-alt"></i>
                <span>Secure Checkout - Your payment information is protected</span>
              </div>

              <!-- Contact Information -->
              <div class="payment-section">
                <div class="section-header">
                  <h2><i class="fas fa-user-circle"></i> Contact Information</h2>
                </div>
                <form id="paymentForm" class="payment-form">
                  <div class="form-group">
                    <input type="email" id="email" name="email" placeholder="Email address" required>
                    <label for="email">Email address</label>
                  </div>
                  <div class="form-group">
                    <input type="tel" id="phone" name="phone" placeholder="Phone number" required>
                    <label for="phone">Phone number</label>
                  </div>
                </form>
              </div>

              <!-- Shipping Address -->
              <div class="payment-section">
                <div class="section-header">
                  <h2><i class="fas fa-map-marker-alt"></i> Shipping Address</h2>
                  <button type="button" class="use-saved-address" id="useSavedAddress">
                    <i class="fas fa-address-card"></i> Use saved address
                  </button>
                </div>
                <div class="form-row">
                  <div class="form-group">
                    <input type="text" id="firstName" name="firstName" placeholder="First name" required>
                    <label for="firstName">First name</label>
                  </div>
                  <div class="form-group">
                    <input type="text" id="lastName" name="lastName" placeholder="Last name" required>
                    <label for="lastName">Last name</label>
                  </div>
                </div>
                <div class="form-group">
                  <input type="text" id="address" name="address" placeholder="" required>
                  <label for="address">Street address</label>
                </div>
                <div class="form-group">
                  <input type="text" id="apartment" name="apartment" placeholder="">
                  <label for="apartment">Apartment, suite, etc. (optional)</label>
                </div>
                <div class="form-row">
                  <div class="form-group">
                    <input type="text" id="city" name="city" placeholder="" required>
                    <label for="city">City</label>
                  </div>
                  <div class="form-group">
                    <select id="division" name="division" required>
                      <option value="">Select Division</option>
                      <option value="Dhaka">Dhaka</option>
                      <option value="Chittagong">Chittagong</option>
                      <option value="Rajshahi">Rajshahi</option>
                      <option value="Khulna">Khulna</option>
                      <option value="Barisal">Barisal</option>
                      <option value="Sylhet">Sylhet</option>
                      <option value="Rangpur">Rangpur</option>
                      <option value="Mymensingh">Mymensingh</option>
                    </select>
                    <label for="division">Division</label>
                  </div>
                  <div class="form-group">
                    <input type="text" id="postalCode" name="postalCode" placeholder="" required>
                    <label for="postalCode">Postal code</label>
                  </div>
                </div>
              </div>

              <!-- Shipping Method -->
              <div class="payment-section">
                <div class="section-header">
                  <h2><i class="fas fa-truck-fast"></i> Delivery Options</h2>
                </div>
                <div class="shipping-options">
                  <label class="shipping-option">
                    <input type="radio" name="shipping" value="standard" checked>
                    <div class="option-content">
                      <div class="option-info">
                        <span class="option-name">Standard Delivery</span>
                        <span class="option-time">5-7 business days</span>
                      </div>
                      <span class="option-price">৳120</span>
                    </div>
                  </label>
                  <label class="shipping-option">
                    <input type="radio" name="shipping" value="express">
                    <div class="option-content">
                      <div class="option-info">
                        <span class="option-name">Express Delivery</span>
                        <span class="option-time">2-3 business days</span>
                      </div>
                      <span class="option-price">৳250</span>
                    </div>
                  </label>
                  <label class="shipping-option">
                    <input type="radio" name="shipping" value="overnight">
                    <div class="option-content">
                      <div class="option-info">
                        <span class="option-name">Premium Delivery</span>
                        <span class="option-time">Next business day</span>
                      </div>
                      <span class="option-price">৳500</span>
                    </div>
                  </label>
                </div>
              </div>

              <!-- Payment Method -->
              <div class="payment-section">
                <div class="section-header">
                  <h2><i class="fas fa-money-check-alt"></i> Payment Method</h2>
                </div>
                <div class="payment-methods">
                  <label class="payment-method">
                    <input type="radio" name="payment_method" value="card" checked>
                    <div class="method-content">
                      <i class="fas fa-credit-card"></i>
                      <span>Credit/Debit Card</span>
                    </div>
                  </label>
                  <label class="payment-method">
                    <input type="radio" name="payment_method" value="mobile">
                    <div class="method-content">
                      <i class="fas fa-mobile-alt"></i>
                      <span>Mobile Banking</span>
                    </div>
                  </label>
                  <label class="payment-method">
                    <input type="radio" name="payment_method" value="cash">
                    <div class="method-content">
                      <i class="fas fa-money-bill-wave"></i>
                      <span>Cash on Delivery</span>
                    </div>
                  </label>
                </div>

                <!-- Card Payment Details -->
                <div class="payment-details" id="cardDetails">
                  <div class="form-group">
                    <input type="text" id="cardNumber" name="cardNumber" placeholder="" maxlength="19">
                    <label for="cardNumber">Card number</label>
                    <div class="card-icons">
                      <i class="fab fa-cc-visa"></i>
                      <i class="fab fa-cc-mastercard"></i>
                      <i class="fab fa-cc-amex"></i>
                    </div>
                  </div>
                  <div class="form-row">
                    <div class="form-group">
                      <input type="text" id="expiryDate" name="expiryDate" placeholder="" maxlength="5">
                      <label for="expiryDate">Expiry date</label>
                    </div>
                    <div class="form-group">
                      <input type="text" id="cvv" name="cvv" placeholder="" maxlength="4">
                      <label for="cvv">CVV</label>
                    </div>
                  </div>
                  <div class="form-group">
                    <input type="text" id="cardName" name="cardName" placeholder="">
                    <label for="cardName">Name on card</label>
                  </div>
                  <div class="security-badges">
                    <div class="badge">
                      <i class="fas fa-lock"></i>
                      <span>SSL Secured</span>
                    </div>
                    <div class="badge">
                      <i class="fas fa-shield-alt"></i>
                      <span>PCI Compliant</span>
                    </div>
                    <div class="badge">
                      <i class="fas fa-fingerprint"></i>
                      <span>Encrypted Data</span>
                    </div>
                  </div>
                </div>

                <!-- Mobile Banking Details -->
                <div class="payment-details" id="mobileDetails" style="display: none;">
                  <div class="mobile-options">
                    <label class="mobile-option">
                      <input type="radio" name="mobile_provider" value="bkash" checked>
                      <img src="assets/images/payment/bkash.png" alt="bKash">
                    </label>
                    <label class="mobile-option">
                      <input type="radio" name="mobile_provider" value="nagad">
                      <img src="assets/images/payment/nagad.png" alt="Nagad">
                    </label>
                    <label class="mobile-option">
                      <input type="radio" name="mobile_provider" value="rocket">
                      <img src="assets/images/payment/rocket.png" alt="Rocket">
                    </label>
                  </div>
                  <div class="form-group">
                    <input type="tel" id="mobileNumber" name="mobileNumber" placeholder="">
                    <label for="mobileNumber">Mobile number</label>
                  </div>
                  <div class="form-group">
                    <input type="text" id="transactionId" name="transactionId" placeholder="">
                    <label for="transactionId">Transaction ID</label>
                  </div>
                  <div class="mobile-payment-instructions">
                    <h4><i class="fas fa-info-circle"></i> How to pay:</h4>
                    <ol>
                      <li>Open your mobile banking app</li>
                      <li>Select "Payment" option</li>
                      <li>Enter merchant number: <strong>01712345678</strong></li>
                      <li>Enter the total amount: <strong id="mobilePayAmount">৳0</strong></li>
                      <li>Complete the payment and enter the Transaction ID above</li>
                    </ol>
                  </div>
                </div>
              </div>

              <!-- Billing Address -->
              <div class="payment-section">
                <div class="section-header">
                  <h2><i class="fas fa-file-invoice"></i> Billing Address</h2>
                </div>
                <label class="checkbox-option">
                  <input type="checkbox" id="sameAsShipping" checked>
                  <span class="checkmark"></span>
                  <span class="option-text">Same as shipping address</span>
                </label>
                <div id="billingAddressForm" style="display: none; margin-top: 1rem;">
                  <div class="form-row">
                    <div class="form-group">
                      <input type="text" id="billingFirstName" name="billingFirstName" placeholder="First name">
                      <label for="billingFirstName">First name</label>
                    </div>
                    <div class="form-group">
                      <input type="text" id="billingLastName" name="billingLastName" placeholder="Last name">
                      <label for="billingLastName">Last name</label>
                    </div>
                  </div>
                  <div class="form-group">
                    <input type="text" id="billingAddress" name="billingAddress" placeholder="">
                    <label for="billingAddress">Street address</label>
                  </div>
                  <div class="form-row">
                    <div class="form-group">
                      <input type="text" id="billingCity" name="billingCity" placeholder="City">
                      <label for="billingCity">City</label>
                    </div>
                    <div class="form-group">
                      <select id="billingDivision" name="billingDivision">
                        <option value="">Select Division</option>
                        <option value="Dhaka">Dhaka</option>
                        <option value="Chittagong">Chittagong</option>
                        <option value="Rajshahi">Rajshahi</option>
                        <option value="Khulna">Khulna</option>
                        <option value="Barisal">Barisal</option>
                        <option value="Sylhet">Sylhet</option>
                        <option value="Rangpur">Rangpur</option>
                        <option value="Mymensingh">Mymensingh</option>
                      </select>
                      <label for="billingDivision">Division</label>
                    </div>
                    <div class="form-group">
                      <input type="text" id="billingPostalCode" name="billingPostalCode" placeholder="Postal code">
                      <label for="billingPostalCode">Postal code</label>
                    </div>
                  </div>
                </div>
              </div>

              <!-- Special Instructions -->
              <div class="payment-section">
                <div class="section-header">
                  <h2><i class="fas fa-clipboard-list"></i> Order Notes</h2>
                </div>
                <div class="form-group">
                  <textarea id="orderNotes" name="orderNotes" rows="3" placeholder=""></textarea>
                  <label for="orderNotes">Special instructions (optional)</label>
                </div>
              </div>
            </div>

            <!-- Right Side - Order Summary -->
            <div class="order-summary-container">
              <div class="order-summary">
                <h2><i class="fas fa-shopping-basket"></i> Order Summary</h2>
                
                <div class="order-items" id="orderItems">
                  <!-- Order items will be loaded here -->
                  <div class="loading-order">
                    <div class="loading-spinner"></div>
                    <p>Loading your items...</p>
                  </div>
                </div>

                <div class="order-totals">
                  <div class="total-row">
                    <span>Subtotal</span>
                    <span id="subtotal">৳0</span>
                  </div>
                  <div class="total-row">
                    <span>Shipping</span>
                    <span id="shippingCost">৳120</span>
                  </div>
                  <div class="total-row">
                    <span>Tax (5%)</span>
                    <span id="tax">৳0</span>
                  </div>
                  <div class="total-row total">
                    <span>Total</span>
                    <span id="totalAmount">৳120</span>
                  </div>
                </div>

                <button type="submit" form="paymentForm" class="complete-order-btn" id="completeOrderBtn">
                  <i class="fas fa-lock"></i>
                  <span>Complete Order</span>
                  <div class="btn-loader" style="display: none;">
                    <i class="fas fa-spinner fa-spin"></i>
                  </div>
                </button>

                <div class="order-summary-footer">
                  <div class="payment-icons">
                    <i class="fab fa-cc-visa"></i>
                    <i class="fab fa-cc-mastercard"></i>
                    <i class="fab fa-cc-amex"></i>
                    <i class="fab fa-cc-discover"></i>
                  </div>
                  <p class="summary-note">
                    By completing your purchase, you agree to our <a href="terms.html">Terms of Service</a> and <a href="privacy-policy.html">Privacy Policy</a>.
                  </p>
                </div>
              </div>

              <div class="trust-badges">
                <div class="trust-badge">
                  <i class="fas fa-truck"></i>
                  <span>Free shipping on orders over ৳5000</span>
                </div>
                <div class="trust-badge">
                  <i class="fas fa-undo"></i>
                  <span>30-day return policy</span>
                </div>
                <div class="trust-badge">
                  <i class="fas fa-headset"></i>
                  <span>24/7 customer support</span>
                </div>
              </div>
            </div>
          </div>
        </div>
      </main>

      <!-- Footer -->
      <footer class="footer">
        <nav class="footer-links">
          <a href="about.html">About</a>
          <a href="contact.html">Contact</a>
          <a href="privacy-policy.html">Privacy Policy</a>
          <a href="terms.html">Terms of Service</a>
        </nav>
        <p class="footer-text">@2024 Crafts of Bengal. All rights reserved.</p>
      </footer>
    </div>
  </div>

  <!-- Modal/Popup Container -->
  <div id="modalOverlay" class="modal-overlay">
    <div class="modal-container">
      <div class="modal-content">
        <div class="modal-header">
          <h3 class="modal-title"></h3>
          <button class="modal-close" onclick="closeModal()">
            <i class="fas fa-times"></i>
          </button>
        </div>
        <div class="modal-body">
          <div class="modal-icon">
            <i class="fas fa-check-circle"></i>
          </div>
          <p class="modal-message"></p>
        </div>
        <div class="modal-footer">
          <button class="modal-btn primary" onclick="closeModal()">OK</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Success Animation -->
  <div id="successAnimation" class="success-animation">
    <div class="success-checkmark">
      <div class="check-icon">
        <span class="icon-line line-tip"></span>
        <span class="icon-line line-long"></span>
        <div class="icon-circle"></div>
        <div class="icon-fix"></div>
      </div>
    </div>
  </div>
</body>
</html>